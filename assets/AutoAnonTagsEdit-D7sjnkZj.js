import{u as l,r as i,j as t,k as V,D,l as p,s as y}from"./index-oEttahcb.js";function R(){const j=l(e=>e.autoAnonTagsEditPanelVisible),g=l(e=>e.setAutoAnonTagsEditPanelVisible),c=l(e=>e.tagsToAnon),b=l(e=>e.setTagsToAnon),A=l(e=>e.resetTagsAnon),n=l(e=>e.setShowAlert),r=l(e=>e.setAlertMsg),o=l(e=>e.setAlertType),[w,f]=i.useState(""),[x,v]=i.useState(""),[I,N]=i.useState(""),[u,m]=i.useState(!1),[T,h]=i.useState(0);let d=[];const C=(e,a,s)=>{p.debug(`Adding tag change: ${e} ${a} ${s}`),d.push({tagId:e,newValue:a,deleteTag:s})},k=(e,a)=>{if(p.info(`Adding tag: ${e} ${a}`),e.length!==8||isNaN(parseInt(e))){o("alert-error"),r("Tag ID has to be 8 numbers"),n(!0);return}if(a.length<1){o("alert-error"),r("Tag Value can't be empty"),n(!0);return}if(x.length<1){o("alert-error"),r("Tag Name can't be empty"),n(!0);return}const s=[...c];s.unshift({tagId:"X"+e,name:x,value:a}),b(s),f(""),v(""),N(""),m(!1)},S=()=>{if(p.debug("Updating tag values"),u){r("Add tag isn't saved yet, please save or cancel it first"),o("alert-error"),n(!0);return}if(d.length===0){r("No Changes Made"),o("alert-warning"),n(!0),g(!1);return}const e=[...c];d.forEach(a=>{a.deleteTag?e.splice(e.findIndex(s=>s.tagId===a.tagId),1):e[e.findIndex(s=>s.tagId===a.tagId)].value=a.newValue}),g(!1),h(a=>a+1),d=[],b(e),r("Updates Saved"),o("alert-success"),n(!0)},E=e=>{const a=Object.keys(y).find(s=>s===e);return a?y[a].name:"Unknown"};return t.jsxs("div",{className:`fixed right-0 top-0 h-full w-3/4 transform overflow-y-auto bg-base-200/95 shadow-lg backdrop-blur-sm transition-all duration-300 ease-in-out ${j?"translate-x-0":"translate-x-full"}`,children:[t.jsx("div",{className:"mb-5 mr-8 mt-24 flex items-center justify-between",children:t.jsx("div",{className:"ml-4 text-xl font-bold text-blue-400",children:"Tags in Anonymize List"})}),t.jsxs("div",{className:"mb-4 flex justify-around",children:[t.jsx("button",{onClick:()=>{S()},className:"rounded-full bg-success px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Save"}),t.jsx("button",{"data-testid":"AutoAnonAddTag",onClick:()=>{m(!u)},className:"rounded-full bg-primary px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:u?"Close Add Tag":"Add Anon Tag"}),t.jsx("button",{onClick:()=>{g(!1),m(!1),d=[],h(0)},className:"rounded-full bg-error px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Cancel"}),t.jsx("button",{onClick:()=>{d=[],A(),m(!1),h(e=>e+1)},className:"rounded-full bg-error px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Reset Tags"})]}),t.jsxs("table",{className:"m-4 mb-10 mb-24 border text-lg text-base-content",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-wrap bg-primary",children:[t.jsx("th",{className:"w-1/5 border px-4 py-2 text-primary-content",children:"Tag ID"}),t.jsx("th",{className:"w-2/5 border px-4 py-2 text-primary-content",children:"Tag Name"}),t.jsx("th",{className:"w-7/12 border px-4 py-2 text-primary-content",children:"New Value"})]})}),t.jsxs("tbody",{className:"bg-base-100",children:[u?t.jsxs("tr",{children:[t.jsx("td",{className:"border px-4 py-2 text-center",children:t.jsxs("div",{className:"flex-col-2 flex",children:[t.jsx("div",{className:"mr-2",children:"X"}),t.jsx("input",{type:"text",className:"w-full",placeholder:"Tag ID",maxLength:8,onChange:e=>{f(e.target.value),v(E(e.target.value))}})]})}),t.jsx("td",{className:"border px-4 py-2 text-center",children:t.jsx("input",{type:"text",className:"w-full",placeholder:"Tag Name",disabled:!0,value:x})}),t.jsx("td",{className:"border px-4 py-2 text-center",children:t.jsxs("div",{className:"flex-col-2 flex",children:[t.jsx("input",{type:"text",className:"mr-4 w-full",placeholder:"Tag Value",onChange:e=>N(e.target.value)}),t.jsx(V,{"data-testid":"CheckCircleIcon",className:"h-8 w-8 cursor-pointer hover:scale-110 hover:text-success",onClick:()=>k(w,I)})]})})]}):null,c.length>0?c.map((e,a)=>t.jsx(D,{row:{tagId:e.tagId,tagName:e.name,value:e.value},index:a+T,nested:!1,onUpdateValue:C,updated:!1},a+e.tagId+T)):null]})]})]})}export{R as default};
