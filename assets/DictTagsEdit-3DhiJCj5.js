import{r as a,j as e,F as A,R as M,u as n,l as S}from"./index-C4_K8VrH.js";function Z({title:o,titleId:i,...l},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},l),o?a.createElement("title",{id:i},o):null,a.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),a.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))}const q=a.forwardRef(Z);function P({title:o,titleId:i,...l},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},l),o?a.createElement("title",{id:i},o):null,a.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const _=a.forwardRef(P);function B({tagId:o,index:i,tagName:l,tagVR:s="",onUpdateValue:D,isPendingDelete:T=!1,pendingValue:m}){const[v,N]=a.useState(!1),[u,h]=a.useState(l),[c,x]=a.useState(l);a.useEffect(()=>{m!==void 0&&x(m)},[m]);const d=g=>{x(g.target.value)},p=()=>{h(c),D(o,c,!1),N(!1)},r=()=>{D(o,"",!0)},f=T?"bg-red-100 opacity-50":m!==void 0&&m!==u?"bg-yellow-100":i%2===0?"bg-base-100":"bg-base-200";return e.jsxDEV("tr",{className:f,children:[e.jsxDEV("td",{className:"border px-4 py-2 text-center",children:e.jsxDEV("div",{className:"flex-col-2 flex",children:[e.jsxDEV("div",{className:"mr-2",children:[i+1,"."]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:79,columnNumber:21},this),e.jsxDEV("div",{children:o},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:80,columnNumber:21},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:78,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("td",{className:"border px-4 py-2",children:s},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:83,columnNumber:13},this),e.jsxDEV("td",{className:"border px-4 py-2 text-center",children:v?e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"text",className:"mr-4 w-full",value:c,onChange:d},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:87,columnNumber:25},this),e.jsxDEV(A,{className:"h-6 w-6 cursor-pointer hover:scale-110 hover:text-success",onClick:p},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:93,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:86,columnNumber:21},this):e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:T?e.jsxDEV("span",{className:"italic text-red-500",children:"Pending deletion"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:102,columnNumber:33},this):m!==void 0&&m!==u?e.jsxDEV("span",{className:"text-yellow-700",children:[m,e.jsxDEV("span",{className:"ml-2 text-xs italic",children:"(pending)"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:109,columnNumber:37},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:107,columnNumber:33},this):u},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:100,columnNumber:25},this),e.jsxDEV("div",{className:"flex",children:[e.jsxDEV(q,{className:"h-6 w-6 cursor-pointer hover:scale-110 hover:text-primary",onClick:()=>N(!0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:118,columnNumber:29},this),e.jsxDEV(_,{className:"ml-2 h-6 w-6 cursor-pointer hover:scale-110 hover:text-error",onClick:r},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:122,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:117,columnNumber:25},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:99,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictTableRow.tsx",lineNumber:76,columnNumber:9},this)}const H=M.memo(({showAddTag:o,addtag:i,tagId:l,tagVR:s,setTagId:D,setTagName:T,setTagVR:m,addChanges:v,searchQuery:N,tags:u,pendingChanges:h=new Map})=>{const[c,x]=a.useState(50),d=M.useMemo(()=>{if(!N.trim())return u;const r=N.toLowerCase();return u.filter(f=>f.tagId.toLowerCase().includes(r)||f.name.toLowerCase().includes(r))},[u,N]),p=()=>{x(r=>Math.min(r+50,d.length))};return e.jsxDEV("table",{className:"m-4 mb-10 mb-24 border text-lg text-base-content",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{className:"text-wrap bg-primary",children:[e.jsxDEV("th",{className:"w-1/5 border px-4 py-2 text-primary-content",children:"Tag ID"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:69,columnNumber:25},void 0),e.jsxDEV("th",{className:"w-2/5 border px-4 py-2 text-primary-content",children:"Tag VR"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:72,columnNumber:25},void 0),e.jsxDEV("th",{className:"w-2/5 border px-4 py-2 text-primary-content",children:"Tag Name"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:75,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:68,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:67,columnNumber:17},void 0),e.jsxDEV("tbody",{className:"bg-base-100",children:[o?e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"border px-4 py-2 text-center",children:e.jsxDEV("div",{className:"flex-col-2 flex",children:[e.jsxDEV("div",{className:"mr-2",children:"X"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:85,columnNumber:37},void 0),e.jsxDEV("input",{type:"text",className:"w-full",placeholder:"Tag ID",maxLength:8,onChange:r=>{D(r.target.value)}},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:86,columnNumber:37},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:84,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:83,columnNumber:29},void 0),e.jsxDEV("td",{className:"border px-4 py-2 text-center",children:e.jsxDEV("div",{className:"flex-col-2 flex",children:e.jsxDEV("input",{type:"text",className:"mr-4 w-full",placeholder:"Tag VR",value:s,onChange:r=>m(r.target.value)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:102,columnNumber:37},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:101,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:100,columnNumber:29},void 0),e.jsxDEV("td",{className:"border px-4 py-2 text-center",children:e.jsxDEV("div",{className:"flex-col-2 flex",children:[e.jsxDEV("input",{type:"text",className:"mr-4 w-full",placeholder:"Tag Name",onChange:r=>T(r.target.value)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:115,columnNumber:37},void 0),e.jsxDEV(A,{"data-testid":"CheckCircleIcon",className:"h-6 w-6 cursor-pointer hover:scale-110 hover:text-success",onClick:()=>i(l,s)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:123,columnNumber:37},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:114,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:113,columnNumber:29},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:82,columnNumber:25},void 0):null,d.slice(0,c).map((r,f)=>{const g=h.get(r.tagId),j=g&&g._delete;return e.jsxDEV(B,{tagId:r.tagId,index:f,tagName:r.name,tagVR:r.vr,onUpdateValue:v,isPendingDelete:j,pendingValue:g&&!j?g.vr:void 0},r.tagId,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:140,columnNumber:29},void 0)}),c<d.length&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:3,className:"py-2 text-center",children:e.jsxDEV("button",{className:"btn btn-primary btn-sm",onClick:p,children:["Load More (",d.length-c," ","remaining)"]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:160,columnNumber:33},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:159,columnNumber:29},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:158,columnNumber:25},void 0),d.length===0&&e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:3,className:"py-4 text-center text-base-content",children:N?"No tags match your search query":"No tags available. Add some tags to get started."},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:174,columnNumber:29},void 0)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:173,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/TagDictionaryTable.tsx",lineNumber:66,columnNumber:13},void 0)});function X(){const o=n(t=>t.setShowDictEdit),i=n(t=>t.showDictEdit),l=n(t=>t.tagDictionary),s=n(t=>t.isTagDictionaryLoaded),D=n(t=>t.loadTagDictionary),T=n(t=>t.addTagToDictionary),m=n(t=>t.updateTagInDictionary),v=n(t=>t.removeTagFromDictionary),N=n(t=>t.resetTagDictionary),u=n(t=>t.setShowAlert),h=n(t=>t.setAlertMsg),c=n(t=>t.setAlertType),[x,d]=a.useState(""),[p,r]=a.useState(""),[f,g]=a.useState(""),[j,E]=a.useState(!1),[C,k]=a.useState(""),[R,F]=a.useState(new Map);a.useEffect(()=>{s||D()},[s,D]);const $=(t,b,y)=>{S.debug(`Adding tag change: ${t} ${b} ${y}`);const w=new Map(R);if(y)w.set(t,{tagId:t,name:"",value:"",_delete:!0});else{const V=l.find(U=>U.tagId===t);V&&w.set(t,{...V,name:b})}F(w)},L=async(t,b)=>{if(S.info(`Adding tag: ${t} ${b} ${p}`),t.length!==8||isNaN(parseInt(t))){c("alert-error"),h("Tag ID has to be 8 numbers"),u(!0);return}if(p.length<1){c("alert-error"),h("Tag Name can't be empty"),u(!0);return}await T({tagId:t,name:p,vr:b})&&(d(""),r(""),g(""),E(!1))},I=async()=>{S.debug("Updating tag values"),E(!1);let t=0,b=0;for(const[y,w]of R.entries())w._delete?await v(y)?t++:b++:await m(w)?t++:b++;F(new Map),b===0?(h(`Updates Saved (${t} changes)`),c("alert-success")):(h(`Updates partially saved (${t} successes, ${b} failures)`),c("alert-warning")),u(!0)};return e.jsxDEV("div",{className:`fixed right-0 top-0 h-full w-3/4 transform overflow-y-auto bg-base-200/95 shadow-lg backdrop-blur-sm transition-all duration-300 ease-in-out ${i?"translate-x-0":"translate-x-full"}`,children:[e.jsxDEV("div",{className:"mb-5 mr-8 mt-24 flex items-center justify-between",children:[e.jsxDEV("div",{className:"ml-4 text-xl font-bold text-blue-400",children:"Edit Tag Dictionary"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:160,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV("div",{className:"relative mr-4",children:[e.jsxDEV("input",{type:"text",placeholder:"Search tags...",className:"input input-sm input-bordered w-64",value:C,onChange:t=>k(t.target.value)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:165,columnNumber:25},this),C&&e.jsxDEV("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>k(""),children:"✕"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:173,columnNumber:29},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("div",{className:"mb-4 flex justify-around",children:[e.jsxDEV("button",{onClick:()=>{I(),o(!1),k(""),E(!1)},className:"rounded-full bg-success px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Save"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:185,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{E(!j)},className:"rounded-full bg-primary px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:j?"Close Add Tag":"Add Tag to Dictionary"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:196,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>{o(!1),k(""),E(!1),F(new Map)},className:"rounded-full bg-error px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Cancel"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:204,columnNumber:17},this),e.jsxDEV("button",{onClick:async()=>{await N(),E(!1),F(new Map)},className:"rounded-full bg-error px-6 py-2.5 text-sm font-medium text-primary-content shadow-md transition-all duration-200 hover:scale-105 hover:shadow-lg disabled:bg-base-300 disabled:hover:scale-100",children:"Reset Tags"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:184,columnNumber:13},this),s?e.jsxDEV(H,{showAddTag:j,addtag:L,tagId:x,tagName:p,tagVR:f,setTagId:d,setTagName:r,setTagVR:g,addChanges:$,searchQuery:C,tags:l,pendingChanges:R},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:228,columnNumber:17},this):e.jsxDEV("div",{className:"flex h-64 items-center justify-center",children:e.jsxDEV("div",{className:"loading loading-spinner loading-lg"},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:244,columnNumber:21},this)},void 0,!1,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:243,columnNumber:17},this)]},void 0,!0,{fileName:"/home/runner/work/term-project-2025-team-2/term-project-2025-team-2/src/Features/TagDictEditor/DictTagsEdit.tsx",lineNumber:154,columnNumber:9},this)}export{X as default};
